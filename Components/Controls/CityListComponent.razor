<div class="d-flex flex-wrap gap-2 mb-3">
    @if (MonthGroups != null)
    {
        @foreach (var monthGroup in MonthGroups)
        {
            var selected = SelectedMonthGroup == monthGroup && string.IsNullOrWhiteSpace(SearchText);
            <button type="button" class="btn @(selected ? "btn-secondary" : "btn-outline-secondary")" @onclick="() => SelectGroup(monthGroup)">
                @monthGroup.Name@(selected ? " (selected)" : "")
            </button>
        }
    }
</div>

@code {
    [Parameter] public List<MonthGroup>? MonthGroups { get; set; }
    [Parameter] public MonthGroup? SelectedMonthGroup { get; set; }
    [Parameter] public string? SearchText { get; set; }
    [Parameter] public EventCallback<MonthGroup?> SelectMonthGroupCallBack { get; set; }
    
    // Triggered when the user clicks a month group button; notifies the parent of the selection
    private void SelectGroup(MonthGroup monthGroup)
    {
        if (SelectMonthGroupCallBack.HasDelegate)
        {
            _ = SelectMonthGroupCallBack.InvokeAsync(monthGroup);
        }
    }
}