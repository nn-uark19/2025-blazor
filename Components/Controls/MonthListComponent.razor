<div class="d-flex flex-wrap gap-2 mb-3">
    @if (MonthGroups != null)
    {
        @foreach (var monthGroup in MonthGroups)
        {
            var isSearchActive = !string.IsNullOrWhiteSpace(SearchText);
            var isSelected = !isSearchActive && SelectedMonthGroup == monthGroup;

            <button
                type="button"
                class="btn @(isSelected ? "btn-secondary" : "btn-outline-secondary")"
                @onclick="() => SelectGroup(monthGroup)">
                @monthGroup.Name
            </button>
        }
    }
</div>
@code {
    [Parameter] public List<MonthGroup>? MonthGroups { get; set; }
    [Parameter] public MonthGroup? SelectedMonthGroup { get; set; }
    [Parameter] public EventCallback<MonthGroup?> SelectMonthGroupCallBack { get; set; }
    
    [Parameter] public string? SearchText { get; set; }
    
    // Triggered when the user clicks a month group button; notifies the parent of the selection
    private void SelectGroup(MonthGroup monthGroup)
    {
        SelectMonthGroupCallBack.InvokeAsync(monthGroup);
    }
}